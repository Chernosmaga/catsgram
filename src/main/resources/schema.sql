drop table if exists cat_user, cat_follow, cat_post cascade;

create table if not exists cat_user
(
    id bigint generated always as identity primary key not null,
    email varchar unique not null,
    username varchar not null,
    nickname varchar
);

create table if not exists cat_post
(
    id bigint generated always as identity primary key not null,
    author_id bigint not null references cat_user(id),
    creation_date timestamp without time zone,
    description varchar not null,
    photo_url varchar not null
);

create table if not exists cat_follow
(
    id bigint generated by default as identity primary key,
    author_id bigint references cat_user(id),
    follower_id bigint references cat_user(id)
);